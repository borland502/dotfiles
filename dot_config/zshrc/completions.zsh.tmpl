mkdir -p "${XDG_CACHE_HOME}/completions"

{{if and (not ("${XDG_DATA_HOME}/zinit/completions/_gopass" | lstat )) (findOneExecutable (list "gopass") (list "/home/linuxbrew/.linuxbrew/bin" (env "PATH")))}}
gopass completion zsh >"${XDG_CACHE_HOME}/completions/_gopass"
zi snippet "${XDG_CACHE_HOME}/completions/_gopass"
{{end}}

zinit wait lucid for \
  OMZL::git.zsh \
  OMZP::git \
  OMZP::git-extras \
  OMZP::tig \
  OMZP::git-flow-avh \
  OMZP::git-auto-fetch \
  unixorn/git-extra-commands \
  wfxr/forgit

zinit ice lucid wait='1'
zinit wait lucid for \
  light-mode atinit"ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20" atload"_zsh_autosuggest_start" \
  zsh-users/zsh-autosuggestions \
  zsh-users/zsh-completions \
  atinit"ZINIT[COMPINIT_OPTS]=-C; zicompinit; zicdreplay" \
  zdharma-continuum/fast-syntax-highlighting \
  as"completion" is-snippet \
  https://raw.githubusercontent.com/junegunn/fzf/master/shell/completion.zsh \
  https://raw.githubusercontent.com/junegunn/fzf/master/shell/key-bindings.zsh \
  https://github.com/docker/cli/blob/master/contrib/completion/zsh/_docker \
  https://github.com/go-task/task/blob/main/completion/zsh/_task \
  https://raw.githubusercontent.com/gopasspw/gopass/master/zsh.completion

# if [[ $(command -v brew) && $(command -v zinit) ]];then
#     for file_name in $(find $($(brew --prefix)/share/zsh/share/site-functions) -name "_*")
#     do
#         echo $file_name
#         break
#     done

#     for file in $(find $($(brew --prefix)/share/zsh/share/functions) -name "_*")
#     do
#         echo $file_name
#         break
#     done
# fi


